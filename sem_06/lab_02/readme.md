## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ2

–ê–≤—Ç–æ—Ä –ª–∞–±—ã: [@Andrey Sapozhkov](https://github.com/Inspirate789) 

```
üìç –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –µ–º—É –∑–≤–µ–∑–¥–æ—á–∫—É !!!
```

### –û–ø–∏—Å–∞–Ω–∏–µ

–ë–µ—Ä–µ–º –∑–∞–¥–∞—á—É 3 –∏–∑ –ø–µ—Ä–≤–æ–π –õ–† –∏ –¥–æ–±–∞–≤–ª—è–µ–º —Ç—É–¥–∞ **epoll**. *–°–ø–æ–π–ª–µ—Ä*: –∏—â–∏—Ç–µ –Ω–æ—É—Ç –Ω–∞ –ª–∏–Ω—É–∫—Å–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∏–≥–¥–µ –±–æ–ª—å—à–µ —ç—Ç–æ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è (–µ—Å–ª–∏ –≤—Å–µ-—Ç–∞–∫–∏ –∑–∞—Ö–æ—Ç–∏—Ç–µ mac, —Ç–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –Ω–∞ poll).

### –ß—Ç–æ –≤–∞–º –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å

* –¥–æ–∫–∞ –ø–æ epoll [[man]](https://man7.org/linux/man-pages/man7/epoll.7.html)
* –¥–æ–∫–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º [[man]](https://ru.manpages.org/epoll/7)
* –æ–±—â–∞—è –∏–¥–µ—è [[habr]](https://habr.com/ru/post/416669/)
* –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–ª–∞–≥–æ–≤ EPOLLIN –∏ EPOLLET [[man]](https://www.opennet.ru/man.shtml?topic=epoll_ctl&category=2&russian=0) (**–≤–∞–∂–Ω–æ**) 
* –∫–∞—Ä—Ç–∏–Ω–∫–∞ "–∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç" (–Ω–µ —Å–º–æ—Ç—Ä–∏—Ç–µ, —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –æ–Ω–∞ —Ç–∞–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç)

<img src="img/very_important_image.jpg" width="400">

### –í–æ–ø—Ä–æ—Å—ã

* –ö–∞–∫–æ–π `fd` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `accept`? -> `listen_sock`
* –ß—Ç–æ –∑–∞ —Ñ–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –≤ `accept`? -> –∏—Å—Ö–æ–¥–Ω—ã–π
* –ß—Ç–æ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞, –ø–æ—á–µ–º—É –≤–µ—Ç–≤–∏–º—Å—è? -> –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–æ, —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–æ–∫–µ—Ç —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ö–æ–¥–Ω—ã–º
* –í –∫–∞–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∫–µ—Ç accept? -> –∫–æ–ø–∏—è –±—É–¥–µ—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `connected` (accept –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ñ–∞–π–ª–∞ –Ω–æ–≤–æ–≥–æ —Å–æ–∫–µ—Ç–∞).
* –í –∫–∞–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –±—É–¥–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π —Å–æ–∫–µ—Ç –ø–æ—Å–ª–µ `accept`? -> –∏—Å—Ö–æ–¥–Ω—ã–π —Å–æ–∫–µ—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `listen`



